@import 'cd/cd-mixins';

.block-facets {
  margin-bottom: 1.5rem;

  .form-item,
  .form-actions {
    margin-top: 0;
    margin-bottom: 0;
  }
}

.block-facets h2 {
  @extend .cd-heading-3;
}

.block-facets ul {
  margin: 0;
  padding: 0;
}

.block-facets li {
  list-style-type: none;
}

.facet-item .is-active {
  font-weight: 700;
}

// This emulates the cd-bullet-list component using CSS bg image instead of SVG element in markup.
.block-facet--links li {
  a {
    display: block;
    margin-bottom: 1rem;
    position: relative;
  }

  a::before {
    display: inline-block;
    height: 9px;
    width: 9px;
    margin-right: 1rem;
    content: '';
    // sass-lint:disable quotes
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3E%5C %3Cpath fill='%23ff4d59' d='M14,48a4,4,0,0,1-2.83-6.83L28.34,24,11.17,6.83a4,4,0,0,1,5.66-5.66l20,20a4,4,0,0,1,0,5.66l-20,20A4,4,0,0,1,14,48Z'/%3E%5C %3C/svg%3E");
    background-repeat: no-repeat;
    background-position: 0 0;
  }
}

.block-facets select {
  width: 100%;
}

// Various overrides to control select2 elements widths when options are wider than parent element.
.block-facets .select2-container {
  overflow: hidden;
}

.block-facets .select2-container--default .select2-search--inline .select2-search__field {
  width: auto !important;
}

.block-facets .select2-container .select2-selection--single .select2-selection__rendered,
.block-facets .select2-container .select2-selection--multiple .select2-selection__rendered {
  white-space: unset;
}

.block-facets-summary {
  background-color: $cd-light-grey;
  //color: $p-dark-text;
  font-size: 0.8rem;
  padding: 1rem 1rem 0.5rem;

  ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  li {
    display: block;
    margin: 0 0 0.5rem;
    line-height: 1.2;
  }

  .source-summary-empty p {
    margin: 0 0 0.5rem;
  }

  a {
    text-decoration: none;

    :hover,
    :focus {
      color: $cd-black;
    }
  }

  .facet-item__status {
    font-size: 1rem;
    font-weight: bold;

    svg {
      fill: $implementation-primary;
      height: 0.5rem;
      width: 0.5rem;
    }
  }

  .facet-summary-item--clear,
  .facet-item__value {
    font-weight: bold;
  }

  .facet-summary-item--clear {
    position: relative;

    ::before {
      display: inline-block;
      height: 0.5rem;
      width: 0.5rem;
      margin-right: 0.25rem;
      content: '';
      // sass-lint:disable quotes
      background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"%3E%3Cpath fill="%233d5c76" d="M29.66,24,45.83,7.83a4,4,0,0,0-5.66-5.66L24,18.34,7.83,2.17A4,4,0,0,0,2.17,7.83L18.34,24,2.17,40.17a4,4,0,0,0,5.66,5.66L24,29.66,40.17,45.83a4,4,0,0,0,5.66-5.66Z"%3E%3C/path%3E%3C/svg%3E');
      background-repeat: no-repeat;
      background-position: 0 0;
    }
  }

  // Hide Summary block title.
  h2 {
    position: absolute !important;
    clip: rect(1px, 1px, 1px, 1px);
    overflow: hidden;
    height: 1px;
    width: 1px;
    word-wrap: normal;
  }
}

.select2-container--open,
.select2-container--focus,
.item-list__dropdown:focus {
  outline: 2px solid $implementation-highlight;
}

.cd-export-button--wrapper {
  margin-top: -2rem;
  display: flex;
  justify-content: flex-end;
}

.cd-button.cd-button--export {
  margin-bottom: 1rem;

  &:focus {
    outline: 3px solid $implementation-highlight;
  }
}
